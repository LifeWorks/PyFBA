<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Flux Balance Analysis &mdash; PyFBA 0.6 documentation</title>
    
    <link rel="stylesheet" href="static/better.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="PyFBA 0.6 documentation" href="index.html" />
    <link rel="up" title="PyFBA Documentation" href="api.html" />
    <link rel="next" title="Filters for manipulating data" href="filters.html" />
    <link rel="prev" title="Metabolism : The Compound Class" href="compound.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  </head>
  <body role="document">
    <header id="pageheader"><h1><a href="index.html ">
        PyFBA 0.6 documentation
    </a></h1></header>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
	<a href="index.html"><img src="static/PyFBA.png" border="0" alt="sampledoc"/></a>
</div>

  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="compound.html" title="Previous document">Metabolism : The Compound Class</a>
        </li>
        <li>
          <a href="filters.html" title="Next document">Filters for manipulating data</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">PyFBA</a></li>
      <li>
        <a href="api.html">PyFBA Documentation</a>
      </li> 
    </ul>
  </nav>
  </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Flux Balance Analysis</a><ul>
<li><a class="reference internal" href="#module-PyFBA.fba.create_stoichiometric_matrix">Methods associated with creating the stoichiometric matrix</a></li>
<li><a class="reference internal" href="#module-PyFBA.fba.bounds">Adding the limits to the reactions and compounds</a></li>
<li><a class="reference internal" href="#module-PyFBA.fba.external_reactions">Identifying the reactions that are uptake and secretion reactions</a></li>
<li><a class="reference internal" href="#module-PyFBA.fba.run_fba">Running the FBA and retrieving the results</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="compound.html"
                        title="previous chapter">Metabolism : The Compound Class</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="filters.html"
                        title="next chapter">Filters for manipulating data</a></p>
<div class="sourcelink">
  <a href="sources/fba.txt" rel="nofollow">
    Show page source
  </a>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="flux-balance-analysis">
<h1>Flux Balance Analysis<a class="headerlink" href="#flux-balance-analysis" title="Permalink to this headline">¶</a></h1>
<p>The <em>PyFBA.fba</em> modules include code for developing the stoichiometric matrix, adding reaction bounds and compound
bounds, identifying reactions involved in uptake and secretion, and running the FBA.</p>
<div class="section" id="module-PyFBA.fba.create_stoichiometric_matrix">
<span id="methods-associated-with-creating-the-stoichiometric-matrix"></span><h2>Methods associated with creating the stoichiometric matrix<a class="headerlink" href="#module-PyFBA.fba.create_stoichiometric_matrix" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="PyFBA.fba.create_stoichiometric_matrix.create_stoichiometric_matrix">
<code class="descclassname">PyFBA.fba.create_stoichiometric_matrix.</code><code class="descname">create_stoichiometric_matrix</code><span class="sig-paren">(</span><em>reactions_to_run</em>, <em>reactions</em>, <em>compounds</em>, <em>media</em>, <em>biomass_equation</em>, <em>uptake_secretion=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#PyFBA.fba.create_stoichiometric_matrix.create_stoichiometric_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the reactions data and a list of RIDs to include, build a
stoichiometric matrix and load that into the linear solver.</p>
<p>The uptake and secretion reactions (sometimes called boundary reactions) are reactions that allow
compounds to flow into the media and secreted compounds away from the cell. You can either provide these (e.g. if
you are parsing an XML (SBML) file, or we will calculate them for you based on your media and reactions.</p>
<p>We also take this opportunity to set the objective function (as it is a member of the SM).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uptake_secretion</strong> (<em>dict of Reaction</em>) &#8211; An optional hash of uptake and secretion reactions that should be added to the model</li>
<li><strong>compounds</strong> (<em>dict</em>) &#8211; a dict of the compounds present</li>
<li><strong>reactions</strong> (<em>dict</em>) &#8211; a dict of all the reactions</li>
<li><strong>reactions_to_run</strong> (<em>set</em>) &#8211; just the reaction ids that we want to include in our model</li>
<li><strong>media</strong> (<em>set</em>) &#8211; a set of compounds that would make up the media</li>
<li><strong>biomass_equation</strong> (<a class="reference internal" href="reaction.html#PyFBA.metabolism.Reaction" title="PyFBA.metabolism.Reaction"><em>metabolism.Reaction</em></a>) &#8211; the biomass_equation equation as a Reaction object</li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; print more information</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Sorted lists of all the compounds and reactions in the model, and a revised reactions dict that includes the uptake and secretion reactions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list, list, dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-PyFBA.fba.bounds">
<span id="adding-the-limits-to-the-reactions-and-compounds"></span><h2>Adding the limits to the reactions and compounds<a class="headerlink" href="#module-PyFBA.fba.bounds" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="PyFBA.fba.bounds.compound_bounds">
<code class="descclassname">PyFBA.fba.bounds.</code><code class="descname">compound_bounds</code><span class="sig-paren">(</span><em>cp</em>, <em>lower=0</em>, <em>upper=0</em><span class="sig-paren">)</span><a class="headerlink" href="#PyFBA.fba.bounds.compound_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Impose constraints on the compounds. These constraints limit what
the variation of each compound can be and is essentially 0 for
most compounds except those that are in the media or otherwise
external.</p>
<p>This is the zero flux vector.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd>cp: the list of compound ids
lower: the default lower value
upper: the default upper value</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="PyFBA.fba.bounds.reaction_bounds">
<code class="descclassname">PyFBA.fba.bounds.</code><code class="descname">reaction_bounds</code><span class="sig-paren">(</span><em>reactions</em>, <em>reactions_to_run</em>, <em>media</em>, <em>lower=-1000.0</em>, <em>mid=0.0</em>, <em>upper=1000.0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#PyFBA.fba.bounds.reaction_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the bounds for each reaction. We set the reactions to run between
either lower/mid, mid/upper, or lower/upper depending on whether the
reaction runs &lt;=, =&gt;, or &lt;=&gt; respectively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reactions</strong> (<em>dict of metabolism.Reaction</em>) &#8211; The dict of all reactions we know about</li>
<li><strong>reactions_to_run</strong> (<em>set</em>) &#8211; The sorted list of reactions to run</li>
<li><strong>media</strong> (<em>set</em>) &#8211; The media compounds</li>
<li><strong>lower</strong> (<em>float</em>) &#8211; The default lower bound</li>
<li><strong>mid</strong> (<em>float</em>) &#8211; The default mid value (typically 0)</li>
<li><strong>upper</strong> (<em>float</em>) &#8211; The default upper bound</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict of the reaction ID and the tuple of bounds</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-PyFBA.fba.external_reactions">
<span id="identifying-the-reactions-that-are-uptake-and-secretion-reactions"></span><h2>Identifying the reactions that are uptake and secretion reactions<a class="headerlink" href="#module-PyFBA.fba.external_reactions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="PyFBA.fba.external_reactions.remove_uptake_and_secretion_reactions">
<code class="descclassname">PyFBA.fba.external_reactions.</code><code class="descname">remove_uptake_and_secretion_reactions</code><span class="sig-paren">(</span><em>reactions</em><span class="sig-paren">)</span><a class="headerlink" href="#PyFBA.fba.external_reactions.remove_uptake_and_secretion_reactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the uptake and secretion reactions added to a model, eg. when you are running multiple simulations.
:param reactions: The reactions dict
:type reactions: dict
:return: The enzymes, compounds, and reactions data structure
:rtype: dict</p>
</dd></dl>

<dl class="function">
<dt id="PyFBA.fba.external_reactions.uptake_and_secretion_reactions">
<code class="descclassname">PyFBA.fba.external_reactions.</code><code class="descname">uptake_and_secretion_reactions</code><span class="sig-paren">(</span><em>model_compounds</em>, <em>compounds</em><span class="sig-paren">)</span><a class="headerlink" href="#PyFBA.fba.external_reactions.uptake_and_secretion_reactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Figure out which compounds can be taken up from the media and/or secreted into the media. We provide an endless
reaction for these which allows them to be taken up and/or secreted without affecting the rest of the stoichiometric
matrix</p>
<p>We also add a reaction for biomass_equation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model_compounds</strong> (<em>set</em>) &#8211; A set of the identifiers of all the compounds we have identified so far</li>
<li><strong>compounds</strong> (<em>dict</em>) &#8211; the dict of all the compounds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A hash of new uptake and secretion reactions we have identified</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">hash</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-PyFBA.fba.run_fba">
<span id="running-the-fba-and-retrieving-the-results"></span><h2>Running the FBA and retrieving the results<a class="headerlink" href="#module-PyFBA.fba.run_fba" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="PyFBA.fba.run_fba.run_fba">
<code class="descclassname">PyFBA.fba.run_fba.</code><code class="descname">run_fba</code><span class="sig-paren">(</span><em>compounds</em>, <em>reactions</em>, <em>reactions_to_run</em>, <em>media</em>, <em>biomass_equation</em>, <em>uptake_secretion={}</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#PyFBA.fba.run_fba.run_fba" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an fba for a set of data. We required the reactions object,
a list of reactions to run, the media, and the biomass_equation equation.</p>
<p>With all of these we run the fba and return:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uptake_secretion</strong> (<em>dict of Reaction</em>) &#8211; A hash of uptake and secretion reactions that should be added to the model. Calculated if not provided.</li>
<li><strong>compounds</strong> (<em>dict</em>) &#8211; The dict of all compounds</li>
<li><strong>reactions</strong> (<em>dict</em>) &#8211; The dict of all reactions</li>
<li><strong>reactions_to_run</strong> (<em>set</em>) &#8211; the reactions to run</li>
<li><strong>media</strong> (<em>set</em>) &#8211; An array of compound.Compound objects representing the media</li>
<li><strong>biomass_equation</strong> (<em>network.reaction.Reaction</em>) &#8211; The biomass_equation equation</li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; Print more output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">which type of linear resolution, the output value of the model, whether the model grew</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(str, float, bool)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="compound.html" title="Previous document">Metabolism : The Compound Class</a>
        </li>
        <li>
          <a href="filters.html" title="Next document">Filters for manipulating data</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">PyFBA</a></li>
      <li>
        <a href="api.html">PyFBA Documentation</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2015, Daniel Cuevas, Taylor O&#39;Connell and Robert Edwards.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.3.1
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>